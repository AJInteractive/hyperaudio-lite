!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.HyperaudioLite=t():e.HyperaudioLite=t()}(this,function(){return function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),n={scroll:!0},i=function(e,t){var a=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];a=Object.assign({},n,a);var i=t.getElementsByTagName("a"),o=t.getElementsByTagName("p"),l=0;i[0].classList.add("active"),o[0].classList.add("active");var s=(0,r.getParameter)("s"),c=parseInt(i[i.length-1].getAttribute("data-m"),10),d=parseFloat((0,r.getParameter)("d"))+parseFloat(s);c<d&&(d=c),t.addEventListener("click",function(t){var a=t.target?t.target:t.srcElement;a.setAttribute("class","active");var r=parseInt(a.getAttribute("data-m"),10)/1e3;isNaN(parseFloat(r))||(d=null,e.currentTime=r,e.play())},!1),e.addEventListener("timeupdate",function(r){d&&d/1e3<e.currentTime&&(e.pause(),d=null),c/1e3<e.currentTime&&e.pause();for(var n=t.getElementsByClassName("active"),s=n.length,u=0;u<s;u++)n[u]&&n[u].classList.remove("active");for(var p=void 0,v=1;v<i.length;v++)if(parseInt(i[v].getAttribute("data-m"))/1e3>e.currentTime){var m=t.getElementsByClassName("active")[0];m.classList.remove("active"),i[v-1].classList.add("active"),i[v-1].parentNode.classList.add("active");for(var f=0;f<o.length;f++)if(o[f].classList.contains("active")){p=f;break}if(a.scroll&&"undefined"!=typeof Velocity&&p!==l){try{Velocity(i[v].parentNode,"scroll",{container:t,duration:800,delay:0})}catch(y){}l=p}break}},!1),isNaN(parseFloat(s))||(e.currentTime=s/1e3,e.play())},o=function(e,t,a){var r=document.getElementById(t);if(null===e&&null!==r.getAttribute("data-audio-src")){var n=document.createElement("audio");e=t+"-player",n.setAttribute("id",e),n.setAttribute("controls",!0),n.setAttribute("src",r.getAttribute("data-audio-src")),n.style.display="none",r.appendChild(n)}var o=document.getElementById(e);return new i(o,r,a)};t["default"]=o;var l=function(){var e=!0,t=!1,a=void 0;try{for(var r,n=[].slice.call(document.querySelectorAll(".hyperaudio-transcript"))[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var i=r.value,l=i.id;null!==l&&""!==l||(l="ha-"+(new Date).getTime()+"-"+parseInt(1e7*Math.random()),i.setAttribute("id",l)),o(null,l,null)}}catch(s){t=!0,a=s}finally{try{!e&&n["return"]&&n["return"]()}finally{if(t)throw a}}};"loading"!==document.readyState?l():document.addEventListener("DOMContentLoaded",l),e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),a=t.exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}}])});