!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.hyperaudioLite=t():e.hyperaudioLite=t()}(this,function(){return function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),a=t.exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}function t(t){s=n.getElementsByTagName("a"),i=n.getElementsByTagName("p"),o=document.getElementById(t),c=0,s[0].classList.add("active"),i[0].classList.add("active"),n.addEventListener("click",a,!1),o.addEventListener("timeupdate",r,!1),l=e("s"),isNaN(parseFloat(l))||(o.currentTime=l/10,o.play()),d=parseFloat(e("d"))+parseFloat(l)}function a(e){var t=e.target?e.target:e.srcElement;t.setAttribute("class","active");var a=parseInt(t.getAttribute("data-m"))/1e3;isNaN(parseFloat(a))||(d=null,o.currentTime=a,o.play())}function r(e){d&&d/10<o.currentTime&&(o.pause(),d=null);for(var t=n.getElementsByClassName("active"),a=t.length,r=0;r<a;r++)t[r]&&t[r].classList.remove("active");for(var l,u=1;u<s.length;u++)if(parseInt(s[u].getAttribute("data-m"))/1e3>o.currentTime){var p=n.getElementsByClassName("active")[0];p.classList.remove("active"),s[u-1].classList.add("active"),s[u-1].parentNode.classList.add("active"),i=n.getElementsByTagName("p");for(var m=0;m<i.length;m++)if(i[m].classList.contains("active")){l=m;break}l!==c&&(Velocity(s[u].parentNode,"scroll",{container:hypertranscript,duration:800,delay:0}),c=l);break}}var n,s,i,o,c,l,d,u={};return u.init=function(e,a){n=document.getElementById(e),t(a)},u.loadTranscript=function(e,t){var a;a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?(n=document.getElementById("hypertranscript"),n.innerHTML=a.responseText,t()):400===a.status?alert("There was an error 400"):alert("something else other than 200 was returned"))},a.open("GET",e,!0),a.send()},u}();t["default"]=a,e.exports=t["default"]}])});